@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --sidebar-width: 280px;
  --toolbar-height: 44px;
  --header-height: 52px;
  --composer-height: 56px;
  --radius-selection: 8px;
  --radius-bubble: 19px;

  --bg-window: #f8f9fb;
  --bg-sidebar: #f3f4f7;
  --bg-pane: #ffffff;
  --bg-toolbar: rgba(248, 249, 252, 0.9);
  --bg-selected: #d9e9ff;
  --border-hairline: rgba(13, 15, 20, 0.12);
  --text-primary: #1b1d22;
  --text-secondary: #646a76;
  --accent: #007aff;

  font-family: -apple-system, BlinkMacSystemFont, "SF Pro Text", "SF Pro Display",
    "Helvetica Neue", sans-serif;
}

@media (prefers-color-scheme: dark) {
  :root {
    --bg-window: #181a1d;
    --bg-sidebar: #1f2227;
    --bg-pane: #24272d;
    --bg-toolbar: rgba(24, 26, 29, 0.82);
    --bg-selected: #2f4f7a;
    --border-hairline: rgba(231, 237, 255, 0.14);
    --text-primary: #f2f5ff;
    --text-secondary: #9ea6b8;
    --accent: #5ca8ff;
  }
}

* {
  box-sizing: border-box;
}

html,
body,
#root {
  margin: 0;
  width: 100%;
  height: 100%;
  color: var(--text-primary);
  background: radial-gradient(circle at 20% 10%, #e4eaf4 0%, transparent 40%),
    radial-gradient(circle at 90% 90%, #dce2ef 0%, transparent 35%), var(--bg-window);
}

@media (prefers-color-scheme: dark) {
  html,
  body,
  #root {
    background: radial-gradient(circle at 20% 10%, #1f2732 0%, transparent 35%),
      radial-gradient(circle at 90% 90%, #1d222c 0%, transparent 30%), var(--bg-window);
  }
}

.app-shell {
  width: min(1280px, 96vw);
  height: min(840px, 95vh);
  margin: 2vh auto;
  border: 1px solid var(--border-hairline);
  border-radius: 14px;
  overflow: hidden;
  backdrop-filter: saturate(1.2) blur(18px);
  box-shadow: 0 20px 55px rgba(0, 0, 0, 0.18);
  display: flex;
  flex-direction: column;
}

.top-toolbar {
  height: var(--toolbar-height);
  border-bottom: 1px solid var(--border-hairline);
  background: var(--bg-toolbar);
  backdrop-filter: blur(14px);
}

.split-view {
  display: grid;
  grid-template-columns: var(--sidebar-width) 1fr;
  height: calc(100% - var(--toolbar-height));
}

.sidebar {
  border-right: 1px solid var(--border-hairline);
  background: var(--bg-sidebar);
}

.chat-pane {
  background: var(--bg-pane);
  display: flex;
  flex-direction: column;
  min-width: 0;
}

.pane-header {
  height: var(--header-height);
  border-bottom: 1px solid var(--border-hairline);
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0 16px;
}

.pane-content {
  flex: 1;
  min-height: 0;
  overflow: auto;
}

.pane-composer {
  height: var(--composer-height);
  border-top: 1px solid var(--border-hairline);
  display: flex;
  align-items: center;
  padding: 10px 14px;
}

@media (max-width: 920px) {
  .app-shell {
    width: 100vw;
    height: 100vh;
    margin: 0;
    border-radius: 0;
    border: 0;
  }

  .split-view {
    grid-template-columns: minmax(220px, 34vw) 1fr;
  }
}
